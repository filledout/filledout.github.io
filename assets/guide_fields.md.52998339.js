import{_ as s,o as a,c as e,d as n}from"./app.9fa06490.js";const h=JSON.parse('{"title":"Fields","description":"","frontmatter":{},"headers":[{"level":3,"title":"Proxy and type safety","slug":"proxy-and-type-safety","link":"#proxy-and-type-safety","children":[]},{"level":3,"title":"Array methods","slug":"array-methods","link":"#array-methods","children":[]}],"relativePath":"guide/fields.md"}'),l={name:"guide/fields.md"},o=n(`<h1 id="fields" tabindex="-1">Fields <a class="header-anchor" href="#fields" aria-hidden="true">#</a></h1><h3 id="proxy-and-type-safety" tabindex="-1">Proxy and type safety <a class="header-anchor" href="#proxy-and-type-safety" aria-hidden="true">#</a></h3><p>Form model has <code>fields</code> field which is typed according to provided generic type for form values passed trough createForm (or derived from initialValues param). To provide best DX fields is a proxy that you can use to map stores/events for a specific form fields, in short when you try to access certain field trough it, proxy collected string path to form value and then usses it to map units.</p><p>Let&#39;s say you have a form with following structure</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> $$form </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createForm</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">initialValues</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">stringField</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">arrayField</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">objectField</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">field</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">arrayWithObjectsInsideField</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>Factory generates a single $values store under the hood which stores default value you pass as initialValues param. Form has some stores (including <code>$values</code>) and events (for example <code>change</code>) you can use to manipulate form state, you can map values/states from store manually and pass name params to most field related methods as an identifier of which field current event call is related. To simplify that process fields provide automatically generated mappings which created at the moment when you try to get certain property. Let&#39;s say we try to get:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> $$form </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createForm</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">$$form</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">stringField</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// proxy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">$$form</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">stringField</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">$values </span><span style="color:#676E95;font-style:italic;">// store which&#39;s under the hood looks like $$form.$values.map(values =&gt; get(path, values) ?? null);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">$$form</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">stringField</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">change </span><span style="color:#676E95;font-style:italic;">// event which&#39;s under the hood looks like $$form.change.prepend((value) =&gt; ({name: path, value}))</span></span>
<span class="line"></span></code></pre></div><hr><div class="warning custom-block"><p class="custom-block-title">References &amp; Calls</p><p>Be aware of using fields proxy to map units because everytime you reference it it returns you new proxy instance so for example working with react components wrapped in memo can break the reference equality because every render it&#39;s gonna return new proxy and therefore new reference (@filledout/react has solution for that)</p></div><hr><h3 id="array-methods" tabindex="-1">Array methods <a class="header-anchor" href="#array-methods" aria-hidden="true">#</a></h3><p>For array fields there are bunch of helper methods such as <code>add</code>, <code>remove</code> (check API reference for some explanation)</p>`,12),p=[o];function t(r,c,i,y,d,D){return a(),e("div",null,p)}const A=s(l,[["render",t]]);export{h as __pageData,A as default};
